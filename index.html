<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Character Resources Alpha</title>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui" />
        <meta name="apple-mobile-wbe-app-status-bar-style" content="yes"/>

        <link rel="stylesheet" href="css/mobile-angular-ui-hover.min.css" />
        <link rel="stylesheet" href="css/mobile-angular-ui-base.min.css" />
        <link rel="stylesheet" href="css/mobile-angular-ui-desktop.min.css" />
        <link rel="stylesheet" href="css/resourceApp1ba.css"/>

        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-route.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-touch.min.js"></script>
        <script src="js/frame/mobile-angular-ui.min.js"></script>

        <script src="js/model/resourceAlpha1ba.js"></script>
    </head>
    <body>
        <section ng-app="resourceApp" ng-controller="resourceAppMain as resApp" class="app">
            <header class="navbar navbar-absolute-top resourceTop">
                <form ng-submit="resApp.userLoad()" class="pull-left">
                    <label>User: </label>
                    <input ng-model="userName"/>
                    <button type="submit" value="submit">Load</button>
                </form>
                <form ng-submit="" ng-controller="resourceAppCharList as resCharList" class="pull-right">
                    <label> Character: </label>
                    <select ng-change="resCharList.load()" ng-model="selectedChar" ng-options="char as char.name for char in charList">
                    </select>
                    <button ng-click="resCharList.save()">Save</button>
                </form>
            </header>
            <section class="app-body">
                <div class="app-content">
                    <div class="scrollable">
                        <div class="scrollable-content">
                            <ul class=" resourceListWrap">
                                <li ng-repeat="item in data">
                                    <form ng-controller="resourceAppEditData as resEdit" class="resourceListItem">
                                        <div ng-show="resEdit.inView('Read')">
                                            <span class="listName">{{item.name}}:</span>
                                            <span class="listValue">
                                                {{item.value}}
                                                <span ng-show="item.maximum > 0"> / {{item.maximum}}</span>
                                                <span class="listType">{{item.type}}</span>
                                            </span>
                                            <span class="listControl">
                                                <button ng-click="resEdit.viewToggle();">Edit</button>
                                            </span>
                                        </div>
                                        <div ng-show="resEdit.inView('Edit')" class="editView">
                                            <span>
                                                <input ng-model="resEdit.toChange" placeholder="{{item.name}}: " size="8"/>
                                            </span>
                                            <span>
                                                <button ng-click="resEdit.plus($index); resEdit.viewToggle();">+</button>
                                                <button ng-click="resEdit.minus($index); resEdit.viewToggle();">-</button>
                                                <button ng-class="{otherHidden: item.maximum < 1}" ng-click="resEdit.refresh($index); resEdit.viewToggle();">@</button>
                                                <button ng-click="resEdit.remove($index); resEdit.viewToggle();">x</button>
                                            </span>
                                        </div>
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            <footer ng-controller="resourceAppAddShow as resShow" class="navbar navbar-absolute-bottom resourceBottom">
                <form ng-controller="resourceAppAddData as resAdd" ng-submit="">
                    <button ng-click="resShow.showToggle()" class="pull-left">{{resShow.buttonText}}</button>
                    <ul ng-show="resShow.isVisible('Cancel')" class="resourceListWrap">
                        <li><label>Name:</label><input ng-model="resAdd.name"/></li>
                        <li><label>Value:</label><input type="number" ng-model="resAdd.value"/></li>
                        <li><label>Maximum:</label><input placeholder="0 for no maximum" type="number" ng-model="resAdd.maximum"/></li>
                        <li><label>Type:</label><input ng-model="resAdd.type"/></li>
                    </ul>
                    <button  class="pull-right" ng-click="resShow.showToggle(); resAdd.push()" ng-show="resShow.isVisible('Cancel')">Confirm</button>
                </form>
            </footer>
        </section>
    </body>
</html>